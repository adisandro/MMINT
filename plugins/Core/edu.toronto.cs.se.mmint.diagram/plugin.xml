<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<!--
Copyright (c) 2012-2023 Marsha Chechik, Alessio Di Sandro, Michalis Famelis,
Rick Salay.
All rights reserved. This program and the accompanying materials
are made available under the terms of the Eclipse Public License v1.0
which accompanies this distribution, and is available at
http://www.eclipse.org/legal/epl-v10.html

Contributors:
   Alessio Di Sandro - Implementation.
-->
<plugin>

   <extension point="org.eclipse.team.core.fileTypes" id="repo-ftype">
      <?gmfgen generated="true"?>
      <fileTypes type="text" extension="middiag"/>
   </extension>

   <extension point="org.eclipse.emf.ecore.extension_parser" id="resource-factory">
      <?gmfgen generated="true"?>
      <parser
         type="middiag"
         class="org.eclipse.gmf.runtime.emf.core.resources.GMFResourceFactory">
      </parser>
   </extension>

   <extension point="org.eclipse.ui.editors" id="gmf-editor">
      <?gmfgen generated="true"?>
      <editor
         id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID"
         name="%editorName"
         icon="icons/obj16/MIDDiagramFile.gif"
         extensions="middiag"
         default="true"
         class="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditor"
         matchingStrategy="edu.toronto.cs.se.mmint.mid.diagram.part.MIDMatchingStrategy"
         contributorClass="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramActionBarContributor">
      </editor>
   </extension>
   
   <extension point="org.eclipse.ui.contexts" id="ui-context">
      <?gmfgen generated="true"?>
      <context
         description="%context.description"
         id="edu.toronto.cs.se.mmint.mid.diagram.ui.diagramContext"
         name="%context.name"
         parentId="org.eclipse.gmf.runtime.diagram.ui.diagramContext">
      </context>
   </extension>

   <extension point="org.eclipse.ui.newWizards" id="creation-wizard">
      <?gmfgen generated="true"?>
  	  <wizard
  	     name="%newWizardName"
  	     icon="icons/obj16/MIDDiagramFile.gif"
  	     category="org.eclipse.ui.Examples"
  	     class="edu.toronto.cs.se.mmint.mid.diagram.part.MIDCreationWizard"
  	     id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDCreationWizardID">
  	  	 <description>%newWizardDesc</description>  
      </wizard>
   </extension>

   <extension point="org.eclipse.ui.popupMenus" id="init-diagram-action">
      <?gmfgen generated="true"?>
      <objectContribution
            id="edu.toronto.cs.se.mmint.diagram.InitDiagram"
            nameFilter="*.mid"
            objectClass="org.eclipse.core.resources.IFile">
         <action
               label="%initDiagramActionLabel"
               class="edu.toronto.cs.se.mmint.mid.diagram.part.MIDInitDiagramFileAction"
               menubarPath="additions"
               enablesFor="1"
               id="edu.toronto.cs.se.mmint.diagram.InitDiagramAction">
         </action>
      </objectContribution>
   </extension>
	
   <extension point="org.eclipse.gmf.runtime.common.ui.services.action.globalActionHandlerProviders" id="global-actions">
      <?gmfgen generated="true"?>
      <GlobalActionHandlerProvider
         class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramGlobalActionHandlerProvider"
         id="MIDPresentation">
         <Priority name="Lowest"/>
         <ViewId id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="delete"/>
            </ElementType>
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart">
               <GlobalActionId actionId="save"/>
            </ElementType>
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="save">
               </GlobalActionId>
            </ElementType>        
         </ViewId>
      </GlobalActionHandlerProvider>
      <GlobalActionHandlerProvider
         class="org.eclipse.gmf.runtime.diagram.ui.providers.ide.providers.DiagramIDEGlobalActionHandlerProvider"
         id="MIDPresentationIDE">
         <Priority name="Lowest"/>
         <ViewId id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="bookmark"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
      <GlobalActionHandlerProvider
            class="org.eclipse.gmf.runtime.diagram.ui.render.providers.DiagramUIRenderGlobalActionHandlerProvider"
            id="MIDRender">
         <Priority name="Lowest"/>
         <ViewId id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="cut"/>
               <GlobalActionId actionId="copy"/>
               <GlobalActionId actionId="paste"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
   </extension>


   <extension point="org.eclipse.gmf.runtime.common.ui.services.markerNavigationProviders" id="markers-navigation">
      <?gmfgen generated="true"?>
      <MarkerNavigationProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDMarkerNavigationProvider">
         <MarkerType name="edu.toronto.cs.se.mmint.diagram.diagnostic"/>
         <Priority name="Lowest"/>
      </MarkerNavigationProvider>
   </extension>

   <extension id="diagnostic" name="MID Diagram Type problems" point="org.eclipse.core.resources.markers">
      <?gmfgen generated="true"?>
      <super type="org.eclipse.core.resources.problemmarker"/>
      <super type="org.eclipse.gmf.runtime.common.ui.services.marker"/>
      <persistent value="true"/>
   </extension>   

   <extension id="validationDecoratorProvider" name="ValidationDecorations" point="org.eclipse.gmf.runtime.diagram.ui.decoratorProviders">
      <?gmfgen generated="true"?>
      <decoratorProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDValidationDecoratorProvider">
         <Priority name="Lowest"/>
         <object class="org.eclipse.gmf.runtime.diagram.ui.editparts.IPrimaryEditPart(org.eclipse.gmf.runtime.diagram.ui)" id="PRIMARY_VIEW"/>
         <context decoratorTargets="PRIMARY_VIEW"/>
      </decoratorProvider>
   </extension>

   <extension point="org.eclipse.core.runtime.preferences" id="prefs">
      <?gmfgen generated="true"?>
      <initializer class="edu.toronto.cs.se.mmint.mid.diagram.preferences.DiagramPreferenceInitializer"/>
   </extension>

   <extension point="org.eclipse.ui.preferencePages" id="prefpages">
      <?gmfgen generated="true"?>
      <page
            id="edu.toronto.cs.se.mmint.diagram.general"
            name="%prefpage.edu.toronto.cs.se.mmint.diagram.general"
            class="edu.toronto.cs.se.mmint.mid.diagram.preferences.DiagramGeneralPreferencePage">
      </page>
      <page
            id="edu.toronto.cs.se.mmint.diagram.appearance"
            name="%prefpage.edu.toronto.cs.se.mmint.diagram.appearance"
            category="edu.toronto.cs.se.mmint.diagram.general"
            class="edu.toronto.cs.se.mmint.mid.diagram.preferences.DiagramAppearancePreferencePage">
      </page>
      <page
            id="edu.toronto.cs.se.mmint.diagram.connections"
            name="%prefpage.edu.toronto.cs.se.mmint.diagram.connections"
            category="edu.toronto.cs.se.mmint.diagram.general"
            class="edu.toronto.cs.se.mmint.mid.diagram.preferences.DiagramConnectionsPreferencePage">
      </page>
      <page
            id="edu.toronto.cs.se.mmint.diagram.printing"
            name="%prefpage.edu.toronto.cs.se.mmint.diagram.printing"
            category="edu.toronto.cs.se.mmint.diagram.general"
            class="edu.toronto.cs.se.mmint.mid.diagram.preferences.DiagramPrintingPreferencePage">
      </page>
      <page
            id="edu.toronto.cs.se.mmint.diagram.rulersAndGrid"
            name="%prefpage.edu.toronto.cs.se.mmint.diagram.rulersAndGrid"
            category="edu.toronto.cs.se.mmint.diagram.general"
            class="edu.toronto.cs.se.mmint.mid.diagram.preferences.DiagramRulersAndGridPreferencePage">
      </page>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertyContributor" id="prop-contrib">
      <?gmfgen generated="true"?>
      <propertyContributor
            contributorId="edu.toronto.cs.se.mmint.diagram"
            labelProvider="edu.toronto.cs.se.mmint.mid.diagram.sheet.MIDSheetLabelProvider">
         <propertyCategory category="domain"/>
         <propertyCategory category="visual"/>
         <propertyCategory category="extra"/>
      </propertyContributor>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertyTabs" id="proptabs">
      <?gmfgen generated="true"?>   
      <propertyTabs contributorId="edu.toronto.cs.se.mmint.diagram">
         <propertyTab
             category="visual"
             id="property.tab.AppearancePropertySection"
             label="%tab.appearance"/>
          <propertyTab
             category="visual"
             id="property.tab.DiagramPropertySection"
             label="%tab.diagram"/>
          <propertyTab
             category="domain"
             id="property.tab.domain"
             label="%tab.domain"/>
      </propertyTabs>
   </extension>

   <extension point="org.eclipse.ui.views.properties.tabbed.propertySections" id="propsections">
      <?gmfgen generated="true"?>   
      <propertySections contributorId="edu.toronto.cs.se.mmint.diagram">
         <propertySection id="property.section.ConnectorAppearancePropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.ConnectionEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.appearance.ConnectionAppearancePropertySection" 
            tab="property.tab.AppearancePropertySection">
         </propertySection>
         <propertySection id="property.section.ShapeColorAndFontPropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.ShapeEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.appearance.ShapeColorsAndFontsPropertySection" 
            tab="property.tab.AppearancePropertySection">
         </propertySection> 
         <propertySection id="property.section.DiagramColorsAndFontsPropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.DiagramEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.appearance.DiagramColorsAndFontsPropertySection" 
            tab="property.tab.AppearancePropertySection">
         </propertySection>     
         <propertySection id="property.section.RulerGridPropertySection" 
            filter="org.eclipse.gmf.runtime.diagram.ui.properties.filters.DiagramEditPartPropertySectionFilter" 
            class="org.eclipse.gmf.runtime.diagram.ui.properties.sections.grid.RulerGridPropertySection" 
            tab="property.tab.DiagramPropertySection">
         </propertySection>     
         <propertySection
            id="property.section.domain" 
            tab="property.tab.domain"
            class="edu.toronto.cs.se.mmint.mid.diagram.sheet.MIDPropertySection">
            <input type="org.eclipse.gmf.runtime.notation.View"/>
            <input type="org.eclipse.gef.EditPart"/>
            <input type="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDAbstractNavigatorItem"/>
         </propertySection>
      </propertySections>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.core.viewProviders" id="view-provider">
      <?gmfgen generated="true"?>
      <viewProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDDiagramViewProvider">
         <Priority name="Lowest"/>
         <object id="referencing-diagrams" class="org.eclipse.gmf.runtime.notation.Diagram">
            <method name="getType()" value="mid"/>
         </object>
         <context viewClass="org.eclipse.gmf.runtime.notation.Node" containerViews="referencing-diagrams"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Diagram" semanticHints="MID"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Node" semanticHints="2001,2002,2003,2004,2005"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Edge" semanticHints="4001,4002,4003,4004,4005"/>
      </viewProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.ui.editpartProviders" id="ep-provider">
      <?gmfgen generated="true"?>
      <editpartProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDEditPartProvider">
         <Priority name="Lowest"/>
         <object class="org.eclipse.gmf.runtime.notation.Diagram" id="generated-diagram">
            <method name="getType()" value="MID"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Node" id="generated-nodes">
            <method name="getType()" value="2001,2002,2003,2004,2005"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Edge" id="generated-links">
            <method name="getType()" value="4001,4002,4003,4004,4005"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Node" id="generated-labels">
            <method name="getType()" value="5001,5002,5003,5004,5005,5006,5007,5008,5009"/>
         </object>
         <object class="org.eclipse.gmf.runtime.notation.Node" id="generated-compartments">
            <method name="getType()" value=""/>
         </object>
         <context views="generated-diagram,generated-nodes,generated-links,generated-labels,generated-compartments"/>
      </editpartProvider>
   </extension>

   
   <extension point="org.eclipse.gmf.runtime.emf.ui.modelingAssistantProviders" id="modelassist-provider">
      <?gmfgen generated="true"?>
      <modelingAssistantProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.assistants.MIDModelingAssistantProviderOfMIDEditPart">
         <Priority name="Lowest"/>
         <object class="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.MIDEditPart" id="MID_1000"/>
         <context elements="MID_1000"/>
      </modelingAssistantProvider>
            <modelingAssistantProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.assistants.MIDModelingAssistantProviderOfModelEditPart">
         <Priority name="Lowest"/>
         <object class="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.ModelEditPart" id="Model_2001"/>
         <context elements="Model_2001"/>
      </modelingAssistantProvider>
            <modelingAssistantProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.assistants.MIDModelingAssistantProviderOfModel2EditPart">
         <Priority name="Lowest"/>
         <object class="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.Model2EditPart" id="Model_2002"/>
         <context elements="Model_2002"/>
      </modelingAssistantProvider>
            <modelingAssistantProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.assistants.MIDModelingAssistantProviderOfModelRelEditPart">
         <Priority name="Lowest"/>
         <object class="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.ModelRelEditPart" id="ModelRel_2003"/>
         <context elements="ModelRel_2003"/>
      </modelingAssistantProvider>
            <modelingAssistantProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.assistants.MIDModelingAssistantProviderOfModelRel2EditPart">
         <Priority name="Lowest"/>
         <object class="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.ModelRel2EditPart" id="ModelRel_2004"/>
         <context elements="ModelRel_2004"/>
      </modelingAssistantProvider>
            <modelingAssistantProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.assistants.MIDModelingAssistantProviderOfOperatorEditPart">
         <Priority name="Lowest"/>
         <object class="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.OperatorEditPart" id="Operator_2005"/>
         <context elements="Operator_2005"/>
      </modelingAssistantProvider>
      
   </extension>


   <extension point="org.eclipse.gmf.runtime.common.ui.services.iconProviders" id="icon-provider">
      <?gmfgen generated="true"?>
      <IconProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDIconProvider">
         <Priority name="Low"/>
      </IconProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.parserProviders" id="parser-provider">
      <?gmfgen generated="true"?>
      <ParserProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDParserProvider">
         <Priority name="Lowest"/>
      </ParserProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.ui.decoratorProviders" id="decorator-provider">
      <?gmfgen generated="true"?>
      <decoratorProvider class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDShortcutsDecoratorProvider">
         <Priority name="Lowest"/>
         <object class="org.eclipse.gmf.runtime.notation.Node(org.eclipse.gmf.runtime.notation)" id="generated-top-nodes">
            <method name="getType()" value="2001,2002,2003,2004,2005"/>
         </object>
         <context decoratorTargets="generated-top-nodes"/>
      </decoratorProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypes" id="element-types">
      <?gmfgen generated="true"?>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID">
         <metamodelType
               id="edu.toronto.cs.se.mmint.diagram.MID_1000"
               name="%metatype.name.MID_1000"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="MID"
               edithelper="edu.toronto.cs.se.mmint.mid.diagram.edit.helpers.MIDEditHelper">
            <param name="semanticHint" value="1000"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID">
         <metamodelType
               id="edu.toronto.cs.se.mmint.diagram.Model_2001"
               name="%metatype.name.Model_2001"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Model"
               edithelper="edu.toronto.cs.se.mmint.mid.diagram.edit.helpers.ModelEditHelper">
            <param name="semanticHint" value="2001"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID">
         <specializationType
               id="edu.toronto.cs.se.mmint.diagram.Model_2002"
               name="%metatype.name.Model_2002"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="edu.toronto.cs.se.mmint.diagram.Model_2001"/>
            <param name="semanticHint" value="2002"/>
         </specializationType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID/Relationship">
         <metamodelType
               id="edu.toronto.cs.se.mmint.diagram.ModelRel_2003"
               name="%metatype.name.ModelRel_2003"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="ModelRel"
               edithelper="edu.toronto.cs.se.mmint.mid.diagram.edit.helpers.ModelRelEditHelper">
            <param name="semanticHint" value="2003"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID/Relationship">
         <specializationType
               id="edu.toronto.cs.se.mmint.diagram.ModelRel_2004"
               name="%metatype.name.ModelRel_2004"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="edu.toronto.cs.se.mmint.diagram.ModelRel_2003"/>
            <param name="semanticHint" value="2004"/>
         </specializationType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID/Operator">
         <metamodelType
               id="edu.toronto.cs.se.mmint.diagram.Operator_2005"
               name="%metatype.name.Operator_2005"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="Operator"
               edithelper="edu.toronto.cs.se.mmint.mid.diagram.edit.helpers.OperatorEditHelper">
            <param name="semanticHint" value="2005"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID">
         <specializationType
               id="edu.toronto.cs.se.mmint.diagram.ExtendibleElementSupertype_4001"
               name="%metatype.name.ExtendibleElementSupertype_4001"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="org.eclipse.gmf.runtime.emf.type.core.null"/>
            <param name="semanticHint" value="4001"/>
         </specializationType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID">
         <metamodelType
               id="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4002"
               name="%metatype.name.ModelEndpoint_4002"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="ModelEndpoint"
               edithelper="edu.toronto.cs.se.mmint.mid.diagram.edit.helpers.ModelEndpointEditHelper">
            <param name="semanticHint" value="4002"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID/Relationship">
         <metamodelType
               id="edu.toronto.cs.se.mmint.diagram.BinaryModelRel_4003"
               name="%metatype.name.BinaryModelRel_4003"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType"
               eclass="BinaryModelRel"
               edithelper="edu.toronto.cs.se.mmint.mid.diagram.edit.helpers.BinaryModelRelEditHelper">
            <param name="semanticHint" value="4003"/>
         </metamodelType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID">
         <specializationType
               id="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4004"
               name="%metatype.name.ModelEndpoint_4004"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4002"/>
            <param name="semanticHint" value="4004"/>
         </specializationType>
      </metamodel>
      <metamodel nsURI="http://se.cs.toronto.edu/mmint/MID">
         <specializationType
               id="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4005"
               name="%metatype.name.ModelEndpoint_4005"
               kind="org.eclipse.gmf.runtime.emf.type.core.IHintedType">
            <specializes id="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4002"/>
            <param name="semanticHint" value="4005"/>
         </specializationType>
      </metamodel>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypeBindings" id="element-types-bindings">
      <?gmfgen generated="true"?>
      <clientContext id="edu.toronto.cs.se.mmint.diagram.TypeContext">
         <enablement>
            <test
               property="org.eclipse.gmf.runtime.emf.core.editingDomain"
               value="edu.toronto.cs.se.mmint.diagram.EditingDomain"/>
         </enablement>
      </clientContext> 
      <binding context="edu.toronto.cs.se.mmint.diagram.TypeContext">
         <elementType ref="edu.toronto.cs.se.mmint.diagram.MID_1000"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.Model_2001"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.Model_2002"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.ModelRel_2003"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.ModelRel_2004"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.Operator_2005"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.ExtendibleElementSupertype_4001"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4002"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.BinaryModelRel_4003"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4004"/>
         <elementType ref="edu.toronto.cs.se.mmint.diagram.ModelEndpoint_4005"/>
         <advice ref="org.eclipse.gmf.runtime.diagram.core.advice.notationDepdendents"/>
      </binding>
   </extension>
	   <extension point="org.eclipse.core.expressions.propertyTesters" id="navigator-proptest.isURIEditorInput">
      <?gmfgen generated="true"?>
       <propertyTester
           id="edu.toronto.cs.se.mmint.diagram.URIEditorInputPropertyTester"
           type="org.eclipse.emf.common.ui.URIEditorInput"
           namespace="edu.toronto.cs.se.mmint.diagram"
           properties="isURIEditorInput"
           class="edu.toronto.cs.se.mmint.mid.diagram.part.MIDUriEditorInputTester">
       </propertyTester>
   </extension>

	   <extension point="org.eclipse.core.expressions.propertyTesters" id="navigator-proptest.isShortcut">
      <?gmfgen generated="true"?>
       <propertyTester
           id="edu.toronto.cs.se.mmint.diagram.ShortcutPropertyTester"
           type="org.eclipse.gmf.runtime.notation.View"
           namespace="edu.toronto.cs.se.mmint.diagram"
           properties="isShortcut"
           class="edu.toronto.cs.se.mmint.mid.diagram.part.MIDShortcutPropertyTester">
       </propertyTester>
   </extension>

	   <extension point="org.eclipse.ui.navigator.viewer" id="navigator-viewbinding">
      <?gmfgen generated="true"?>
      <viewerContentBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension pattern="edu.toronto.cs.se.mmint.diagram.resourceContent"/>
			<contentExtension pattern="edu.toronto.cs.se.mmint.diagram.domainResourceContent"/>
            <contentExtension pattern="edu.toronto.cs.se.mmint.diagram.navigatorLinkHelper"/>
         </includes>
      </viewerContentBinding>
      <viewerActionBinding viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <actionExtension pattern="edu.toronto.cs.se.mmint.diagram.navigatorActionProvider"/>
         </includes>
      </viewerActionBinding>
   </extension>

   <extension point="org.eclipse.ui.navigator.navigatorContent" id="navigator-content">
      <?gmfgen generated="true"?>
      <navigatorContent
            id="edu.toronto.cs.se.mmint.diagram.resourceContent" 
            name="%navigatorContentName" 
            priority="normal" 
            contentProvider="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDNavigatorContentProvider" 
            labelProvider="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDNavigatorLabelProvider"
            icon="icons/obj16/MIDDiagramFile.gif"
            activeByDefault="true">
         <triggerPoints>
            <or>
	           <and>
    	          <instanceof value="org.eclipse.core.resources.IFile"/>
        	      <test property="org.eclipse.core.resources.extension" value="middiag"/>
               </and>
               <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDAbstractNavigatorItem"/>
           	   <adapt type="org.eclipse.gmf.runtime.notation.View">
           	      <test property="edu.toronto.cs.se.mmint.diagram.isShortcut"/>
           	   </adapt>
            </or>
         </triggerPoints>
         <possibleChildren>
            <or>
         	   <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDAbstractNavigatorItem"/>
           	   <adapt type="org.eclipse.gmf.runtime.notation.View">
           	      <test property="edu.toronto.cs.se.mmint.diagram.isShortcut"/>
           	   </adapt>
            </or>
         </possibleChildren>
         <commonSorter 
               id="edu.toronto.cs.se.mmint.diagram.navigatorSorter" 
               class="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDNavigatorSorter">
            <parentExpression>
               <or>
	              <and>
    	             <instanceof value="org.eclipse.core.resources.IFile"/>
        	         <test property="org.eclipse.core.resources.extension" value="middiag"/>
                  </and>
                  <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDAbstractNavigatorItem"/>
               </or>
            </parentExpression>
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            id="edu.toronto.cs.se.mmint.diagram.domainResourceContent" 
            name="%domainNavigatorContentName" 
            priority="normal" 
            contentProvider="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDDomainNavigatorContentProvider" 
            labelProvider="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDDomainNavigatorLabelProvider"
            icon="icons/obj16/MIDDiagramFile.gif"
            activeByDefault="true">
         <triggerPoints>
            <or>
	           <and>
    	          <instanceof value="org.eclipse.core.resources.IFile"/>
        	      <test property="org.eclipse.core.resources.extension" value="mid"/>
               </and>
               <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDDomainNavigatorItem"/>
            </or>
         </triggerPoints>
         <possibleChildren>
            <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDDomainNavigatorItem"/>
         </possibleChildren>
      </navigatorContent>
      <actionProvider
            id="edu.toronto.cs.se.mmint.diagram.navigatorActionProvider"
            class="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDNavigatorActionProvider">
         <enablement>
            <or>
               <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDAbstractNavigatorItem"/>
           	   <adapt type="org.eclipse.gmf.runtime.notation.View">
           	      <test property="edu.toronto.cs.se.mmint.diagram.isShortcut"/>
           	   </adapt>
            </or>
         </enablement>
      </actionProvider>
   </extension>
   
	   <extension point="org.eclipse.ui.navigator.linkHelper" id="navigator-linkhelper">
      <?gmfgen generated="true"?>
      <linkHelper
            id="edu.toronto.cs.se.mmint.diagram.navigatorLinkHelper"
            class="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDNavigatorLinkHelper">
         <editorInputEnablement>
            <and>
               <instanceof value="org.eclipse.emf.common.ui.URIEditorInput"/>
               <test property="edu.toronto.cs.se.mmint.diagram.isURIEditorInput"/>
            </and>
         </editorInputEnablement>
         <selectionEnablement>
            <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.navigator.MIDAbstractNavigatorItem"/>
         </selectionEnablement>
      </linkHelper>
   </extension>
   <extension point="org.eclipse.emf.validation.constraintProviders">
      <?gmfgen generated="true"?>
            <category id="ModelValidationContainer" mandatory="false" name="ModelValidationContainer">
         <![CDATA[Model validation container]]>
      </category>
      <constraintProvider cache="true">
         <package namespaceUri="http://se.cs.toronto.edu/mmint/MID"/>
               <constraints categories="ModelValidationContainer">
                  <constraint id="ModelValidationRule"
            lang="Java" class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDValidationProvider$Adapter1"
            name="ModelValidationRule"
            mode="Batch"
            severity="ERROR" statusCode="200">
            
            <description><![CDATA[Model validation rule]]></description>
            <message><![CDATA[Model{0} {1} is not of type {2}]]></message>
            <target class="mid.Model"/>
         </constraint>
                  </constraints>
      </constraintProvider>
   </extension>

   <extension point="org.eclipse.emf.validation.constraintBindings">
      <?gmfgen generated="true"?>
      <clientContext default="false" id="edu.toronto.cs.se.mmint.diagramDefaultCtx">
         <selector class="edu.toronto.cs.se.mmint.mid.diagram.providers.MIDValidationProvider$DefaultCtx"/>
      </clientContext>
      <binding context="edu.toronto.cs.se.mmint.diagramDefaultCtx">
                  <constraint ref="edu.toronto.cs.se.mmint.diagram.ModelValidationRule"/>
               </binding>

   </extension>


   <extension point="org.eclipse.emf.validation.ui.UIRegisteredClientContext">
      <?gmfgen generated="true"?>
      <clientContext id="edu.toronto.cs.se.mmint.diagramDefaultCtx"/>
   </extension>

   <extension point="org.eclipse.ui.commands" id="update-cmd">
      <?gmfgen generated="true"?>
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramUpdateCommand"
         description="%update.diagram.description"
         id="edu.toronto.cs.se.mmint.mid.diagram.updateDiagram"
         name="%update.diagram.name"/>
   </extension>
   
   <extension point="org.eclipse.ui.bindings" id="update-cmd-binding">
      <?gmfgen generated="true"?>
      <key 
         commandId="edu.toronto.cs.se.mmint.mid.diagram.updateDiagram"
         contextId="edu.toronto.cs.se.mmint.mid.diagram.ui.diagramContext"
         schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
         sequence="F5"/>
   </extension>

   <extension point="org.eclipse.ui.menus" id="context-menus">
      <?gmfgen generated="true"?>
      <!-- menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=">
      </menuContribution>
      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=">
      </menuContribution -->
      <menuContribution locationURI="popup:org.eclipse.gmf.runtime.diagram.ui.DiagramEditorContextMenu">
         <command commandId="edu.toronto.cs.se.mmint.diagram.LoadResourceAction">
            <visibleWhen>
               <and>
                  <with variable="activePartId"><equals value="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID"/></with>
                  <with variable="selection"><iterate ifEmpty="false"> 
                     <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.MIDEditPart"/>
                  </iterate></with>
               </and>
            </visibleWhen>
         </command>
         <command commandId="edu.toronto.cs.se.mmint.diagram.CreateShortcutAction">
            <visibleWhen>
               <and>
                  <with variable="activePartId"><equals value="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID"/></with>
                  <with variable="selection"><iterate ifEmpty="false"> 
                     <instanceof value="edu.toronto.cs.se.mmint.mid.diagram.edit.parts.MIDEditPart"/>
                  </iterate></with>
               </and>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>

   <extension point="org.eclipse.ui.commands" id="menu-commands">
      <?gmfgen generated="true"?>
      <category id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID" name="%cmdcategory.name" description="%cmdcategory.desc"/>
      <command id="edu.toronto.cs.se.mmint.diagram.LoadResourceAction"
         name="Load Resource"
         categoryId="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID"
         defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.part.LoadResourceAction"/>
      <command id="edu.toronto.cs.se.mmint.diagram.CreateShortcutAction"
         name="Create Shortcut..."
         categoryId="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID"
         defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.part.CreateShortcutAction"/>
   </extension>

   <extension point="org.eclipse.ui.handlers" id="menu-handlers">
      <?gmfgen generated="true"?>
   </extension>

   <!-- optionally, specify keybindings -->

   <extension point="org.eclipse.ui.newWizards" id="creation-wizard">
      <category
            id="edu.toronto.cs.se.mmint"
            name="%MMINT.newWizardCat"/>
  	  <wizard
  	     name="%MMINT.newWizardNameInstance"
  	     icon="icons/obj16/MIDDiagramFile.gif"
  	     category="edu.toronto.cs.se.mmint"
  	     class="edu.toronto.cs.se.mmint.mid.diagram.part.MIDCreationWizard"
  	     id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDCreationWizardID">
  	  	 <description>%MMINT.newWizardDescInstance</description>  
      </wizard>
  	  <wizard
  	     name="%MMINT.newWizardNameWorkflow"
  	     icon="icons/obj16/MIDDiagramFile.gif"
  	     category="edu.toronto.cs.se.mmint"
  	     class="edu.toronto.cs.se.mmint.mid.diagram.part.MIDCreationWizard"
  	     id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDCreationWizardID">
  	  	 <description>%MMINT.newWizardDescWorkflow</description>  
      </wizard>
   </extension>

   <extension point="org.eclipse.ui.menus">
      <menuContribution locationURI="popup:org.eclipse.gmf.runtime.diagram.ui.DiagramEditorContextMenu">
         <dynamic
               class="edu.toronto.cs.se.mmint.mid.diagram.context.MIDContextMenu"
               id="edu.toronto.cs.se.mmint.mid.diagram.context.MIDContextMenu">
            <visibleWhen>
               <with variable="activePartId">
                  <equals value="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID"/>
               </with>
            </visibleWhen>
         </dynamic>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu">
         <menu
               id="edu.toronto.cs.se.mmint.mid.diagram.menu"
               label="MMINT">
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.OpenTypeMidHandler"
                  label="Open Type MID"
                  style="push"
                  tooltip="Opens the Type MID with all the types that are registered in MMINT">
            </command>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.OpenWikiHandler"
                  label="Open Wiki"
                  style="push"
                  tooltip="Opens the MMINT Wiki">
            </command>
            <separator
                  name="edu.toronto.cs.se.mmint.mid.diagram.menu.separator0"
                  visible="true">
            </separator>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.IconsEnabled"
                  label="Show icons on links"
                  style="toggle"
                  tooltip="Enables icons on links in MIDs">
            </command>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.ModelRelsEnabled"
                  label="Show labels on ModelRel links"
                  style="toggle"
                  tooltip="Enables labels on model relationship links in MIDs">
            </command>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.ModelRelEndpointsEnabled"
                  label="Show labels on ModelRel endpoints"
                  style="toggle"
                  tooltip="Enables labels on model relationship endpoints in MIDs">
            </command>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.OperatorEndpointsEnabled"
                  label="Show labels on Operator endpoints"
                  style="toggle"
                  tooltip="Enables labels on operator endpoints in MIDs">
            </command>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.OperatorsEnabled"
                  label="Trace Operator execution"
                  style="toggle"
                  tooltip="Enables traceability of operator execution in Instance MIDs">
            </command>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.OpenModelEditorsEnabled"
                  label="Open editors when Operators create Models"
                  style="toggle"
                  tooltip="Enables editors to be automatically opened when new models are created by operators">
            </command>
            <command
                  commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.DeleteModelFileEnabled"
                  label="Delete Models from file system"
                  style="toggle"
                  tooltip="Enables automatic deletion of models from the file system when they are deleted from an Instance MID">
            </command>
            <separator
                  name="edu.toronto.cs.se.mmint.mid.diagram.menu.separator1"
                  visible="true">
            </separator>
            <menu
                  id="edu.toronto.cs.se.mmint.mid.diagram.menu.polymorphism"
                  label="Polymorphism">
               <command
                     commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.polymorphism.RuntimeTypingEnabled"
                     label="Enable Runtime Typing"
                     style="toggle"
                     tooltip="Enables models to have their type evaluated at runtime, rather than using their static creation type (can be slow for big models)">
               </command>
               <command
                     commandId="edu.toronto.cs.se.mmint.mid.diagram.menu.polymorphism.MultipleDispatchEnabled"
                     label="Enable Multiple Dispatch"
                     style="toggle"
                     tooltip="Enables dynamic dispatch of operators when executing workflows based on all their actual arguments">
               </command>
            </menu>
         </menu>
      </menuContribution>
   </extension>

   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTOpenTypeMIDMenu"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.OpenTypeMidHandler"
            name="OpenTypeMidHandler">
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTOpenWikiMenu"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.OpenWikiHandler"
            name="OpenWikiHandler">
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.IconsEnabled"
            name="IconsEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.ModelRelsEnabled"
            name="ModelRelsEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.ModelRelEndpointsEnabled"
            name="ModelRelEndpointsEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.OperatorEndpointsEnabled"
            name="OperatorEndpointsEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.OperatorsEnabled"
            name="OperatorsEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.OpenModelEditorsEnabled"
            name="OpenModelEditorsEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.DeleteModelFileEnabled"
            name="DeleteModelFileEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.polymorphism.RuntimeTypingEnabled"
            name="RuntimeTypingEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
      <command
            defaultHandler="edu.toronto.cs.se.mmint.mid.diagram.menu.MMINTAppearanceMenus"
            id="edu.toronto.cs.se.mmint.mid.diagram.menu.polymorphism.MultipleDispatchEnabled"
            name="MultipleDispatchEnabled">
         <state
               class="org.eclipse.ui.handlers.RegistryToggleState:true"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
   </extension>

   <extension
         point="edu.toronto.cs.se.mmint.editors">
      <editorType
            modelTypeUri="http://se.cs.toronto.edu/mmint/MID"
            id="edu.toronto.cs.se.mmint.mid.diagram.part.MIDDiagramEditorID"
            isDiagram="true"
            wizardId="edu.toronto.cs.se.mmint.mid.diagram.part.MIDCreationWizardID">
         <type
               name="MID diagram"
               uri="http://se.cs.toronto.edu/mmint/MID_diagram">
         </type>
      </editorType>
   </extension>

   <extension
         point="org.eclipse.sirius.externalJavaAction">
      <javaActions
            actionClass="edu.toronto.cs.se.mmint.mid.diagram.library.SiriusEvaluateQuery"
            id="edu.toronto.cs.se.mmint.mid.diagram.context.SiriusEvaluateQuery">
      </javaActions>
   </extension>

</plugin>
